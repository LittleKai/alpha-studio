const r="http://localhost:3001/api",i=()=>localStorage.getItem("alpha_studio_token"),n=(e=!1)=>{const t={"Content-Type":"application/json"};if(e){const s=i();s&&(t.Authorization=`Bearer ${s}`)}return t},u=async e=>{const t=new URLSearchParams;e!=null&&e.page&&t.append("page",e.page.toString()),e!=null&&e.limit&&t.append("limit",e.limit.toString()),e!=null&&e.category&&t.append("category",e.category),e!=null&&e.level&&t.append("level",e.level),e!=null&&e.status&&t.append("status",e.status),e!=null&&e.search&&t.append("search",e.search),e!=null&&e.sort&&t.append("sort",e.sort);const s=`${r}/courses${t.toString()?`?${t.toString()}`:""}`,o=await fetch(s,{method:"GET",headers:n(!0),credentials:"include"});if(!o.ok){const c=await o.json();throw new Error(c.message||"Failed to fetch courses")}return o.json()},a=async e=>{const t=await fetch(`${r}/courses/${e}`,{method:"GET",headers:n(!0),credentials:"include"});if(!t.ok){const o=await t.json();throw new Error(o.message||"Failed to fetch course")}return(await t.json()).data},d=a,l=async e=>{const t=await fetch(`${r}/courses`,{method:"POST",headers:n(!0),credentials:"include",body:JSON.stringify(e)});if(!t.ok){const o=await t.json();throw new Error(o.message||"Failed to create course")}return(await t.json()).data},h=async(e,t)=>{const s=await fetch(`${r}/courses/${e}`,{method:"PUT",headers:n(!0),credentials:"include",body:JSON.stringify(t)});if(!s.ok){const c=await s.json();throw new Error(c.message||"Failed to update course")}return(await s.json()).data},w=async e=>{const t=await fetch(`${r}/courses/${e}`,{method:"DELETE",headers:n(!0),credentials:"include"});if(!t.ok){const s=await t.json();throw new Error(s.message||"Failed to delete course")}},f=async e=>{const t=await fetch(`${r}/courses/${e}/publish`,{method:"PATCH",headers:n(!0),credentials:"include"});if(!t.ok){const o=await t.json();throw new Error(o.message||"Failed to publish course")}return(await t.json()).data},g=async e=>{const t=await fetch(`${r}/courses/${e}/unpublish`,{method:"PATCH",headers:n(!0),credentials:"include"});if(!t.ok){const o=await t.json();throw new Error(o.message||"Failed to unpublish course")}return(await t.json()).data},y=async e=>{const t=await fetch(`${r}/courses/${e}/archive`,{method:"PATCH",headers:n(!0),credentials:"include"});if(!t.ok){const o=await t.json();throw new Error(o.message||"Failed to archive course")}return(await t.json()).data},j=async()=>{const e=await fetch(`${r}/courses/stats`,{method:"GET",headers:n(!0),credentials:"include"});if(!e.ok){const s=await e.json();throw new Error(s.message||"Failed to fetch course statistics")}return(await e.json()).data},$=async(e=6)=>u({status:"published",limit:e,sort:"-enrolledCount"});export{d as a,u as b,l as c,j as d,w as e,g as f,$ as g,y as h,f as p,h as u};
